<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Guides on Tomodachi94's Musings</title><link>https://tomodachi94.github.io/categories/guides/</link><description>Recent content in Guides on Tomodachi94's Musings</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Copyright Â© 2023, Tomodachi94. All Rights Reserved unless explicitly stated.</copyright><lastBuildDate>Sun, 09 Feb 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://tomodachi94.github.io/categories/guides/index.xml" rel="self" type="application/rss+xml"/><item><title>Unit testing with ComputerCraft, McFly, and CraftOS-PC</title><link>https://tomodachi94.github.io/blog/computercraft-mcfly-testing/</link><pubDate>Sun, 09 Feb 2025 00:00:00 +0000</pubDate><guid>https://tomodachi94.github.io/blog/computercraft-mcfly-testing/</guid><description>&lt;p&gt;&lt;a href="https://www.howtogeek.com/devops/what-is-unit-testing-and-why-is-it-important/"&gt;Unit testing is awesome&lt;/a&gt;.
It helps you catch bugs early by ensuring all of the components of your program work as expected.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note: This guide is targeted towards &lt;em&gt;experts&lt;/em&gt; who have advanced knowledge of ComputerCraft and know a few things about unit tests.&lt;/strong&gt;
Experience with unit tests in another language is helpful too, but isn&amp;rsquo;t required.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://computercraft.cc"&gt;CC: Tweaked&lt;/a&gt; contains a little-known unit testing framework called &lt;strong&gt;McFly&lt;/strong&gt;, which describes itself as &amp;ldquo;a very basic test framework for ComputerCraft&amp;rdquo; drawing inspiration from the &lt;a href="https://lunarmodules.github.io/busted/"&gt;Busted&lt;/a&gt; framework for Lua.
This post will function as an introduction to McFly, in the process providing instructions for running the tests inside of the &lt;a href="https://craftos-pc.cc"&gt;CraftOS-PC emulator&lt;/a&gt;, suitable for running in a continuous integration pipeline.&lt;/p&gt;</description><content:encoded><![CDATA[<p><a href="https://www.howtogeek.com/devops/what-is-unit-testing-and-why-is-it-important/">Unit testing is awesome</a>.
It helps you catch bugs early by ensuring all of the components of your program work as expected.</p>
<p><strong>Note: This guide is targeted towards <em>experts</em> who have advanced knowledge of ComputerCraft and know a few things about unit tests.</strong>
Experience with unit tests in another language is helpful too, but isn&rsquo;t required.</p>
<p><a href="https://computercraft.cc">CC: Tweaked</a> contains a little-known unit testing framework called <strong>McFly</strong>, which describes itself as &ldquo;a very basic test framework for ComputerCraft&rdquo; drawing inspiration from the <a href="https://lunarmodules.github.io/busted/">Busted</a> framework for Lua.
This post will function as an introduction to McFly, in the process providing instructions for running the tests inside of the <a href="https://craftos-pc.cc">CraftOS-PC emulator</a>, suitable for running in a continuous integration pipeline.</p>
<p>This post assumes you have a functional library or program that you want to test, located in a locally-cloned Git repository.
It also assumes that you know how to write and execute shell scripts in Bash.</p>
<p>This guide assumes you have a library, located at <code>my_library.lua</code>.</p>
<h2 id="getting-mcfly">Getting McFly</h2>
<p>McFly is available <a href="https://raw.githubusercontent.com/cc-tweaked/CC-Tweaked/refs/heads/mc-1.20.x/projects/core/src/test/resources/test-rom/mcfly.lua">through the CC: Tweaked GitHub repository</a>.
Download it to a memorable location inside of your repository; we chose <code>test/mcfly.lua</code>.</p>
<p><strong>Update 09 November 2025: If you use <a href="https://unicornpkg.madefor.cc">unicornpkg</a>, you can alternatively install it by running <code>hoof install mcfly</code>, which places it into <code>bin/mcfly.lua</code> on your computer.</strong></p>
<h2 id="getting-craftos-pc">Getting CraftOS-PC</h2>
<p>This guide assumes that you want to use CraftOS-PC to run the tests outside of the game.</p>
<p>To install CraftOS-PC, follow the <a href="https://www.craftos-pc.cc/docs/installation">guide on its documentation</a>.
(I&rsquo;m partial to Nix as a maintainer of its package, but I won&rsquo;t judge if you pick another method.)</p>
<h2 id="make-a-simple-test">Make a simple test</h2>
<p>Create a simple McFly test at <code>test/addition_spec.lua</code> (the <code>_spec</code> part is important). This will help us know if our setup works. Feel free to delete this file later once you have some tests.</p>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#60a0b0;font-style:italic">-- &#34;addition&#34; is the name of the component you&#39;re testing,</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#60a0b0;font-style:italic">-- usually a function.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>describe(<span style="color:#4070a0">&#34;addition&#34;</span>, <span style="color:#007020;font-weight:bold">function</span>()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>   it(<span style="color:#4070a0">&#34;adds two numbers correctly&#34;</span>, <span style="color:#007020;font-weight:bold">function</span>()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>     expect(<span style="color:#40a070">2</span> <span style="color:#666">+</span> <span style="color:#40a070">2</span>):equals(<span style="color:#40a070">4</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>   <span style="color:#007020;font-weight:bold">end</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span><span style="color:#007020;font-weight:bold">end</span>)</span></span></code></pre></div><h2 id="setting-up-the-testing-environment">Setting up the testing environment</h2>
<p>CraftOS-PC has <a href="https://www.craftos-pc.cc/docs/cli">many CLI options</a>. The ones that interest us are <code>--directory</code>, <code>--headless</code>, and <code>--exec</code>.
The first allows us to override CraftOS-PC&rsquo;s data directory, the second allows us to run CraftOS-PC without opening a GUI, and the third allows us to run arbitrary Lua code.</p>
<p>Create a new shell script with the following contents. We named it <code>test/test.sh</code>, but feel free to name it something else or integrate it into a preexisting command running solution.</p>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#007020">#!/usr/bin/env bash
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#007020"></span><span style="color:#007020">set</span> -euo pipefail
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#60a0b0;font-style:italic"># This script is CC0; feel free to remove this notice and modify the script however you like, with or without attribution.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span><span style="color:#60a0b0;font-style:italic"># Get the root of your Git repository, for copying files into the environment later.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span><span style="color:#bb60d5">SOURCE_DIR</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;</span><span style="color:#007020;font-weight:bold">$(</span>git rev-parse --show-toplevel<span style="color:#007020;font-weight:bold">)</span><span style="color:#4070a0">&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#60a0b0;font-style:italic"># Create a temporary directory for storing CraftOS-PC data.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#bb60d5">DATA_DIR</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;</span><span style="color:#007020;font-weight:bold">$(</span>mktemp -d<span style="color:#007020;font-weight:bold">)</span><span style="color:#4070a0">&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>mkdir -p <span style="color:#4070a0">&#34;</span><span style="color:#bb60d5">$DATA_DIR</span><span style="color:#4070a0">/computer/0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#bb60d5">COMPUTER_DIR</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;</span><span style="color:#bb60d5">$DATA_DIR</span><span style="color:#4070a0">/computer/0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#60a0b0;font-style:italic"># Copy your library into the testing environment.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span>cp <span style="color:#4070a0">&#34;</span><span style="color:#bb60d5">$SOURCE_DIR</span><span style="color:#4070a0">/my_library.lua&#34;</span> <span style="color:#4070a0">&#34;</span><span style="color:#bb60d5">$COMPUTER_DIR</span><span style="color:#4070a0">&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span><span style="color:#60a0b0;font-style:italic"># And your tests!</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>cp -r <span style="color:#4070a0">&#34;</span><span style="color:#bb60d5">$SOURCE_DIR</span><span style="color:#4070a0">/test&#34;</span> <span style="color:#4070a0">&#34;</span><span style="color:#bb60d5">$COMPUTER_DIR</span><span style="color:#4070a0">&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span><span style="color:#60a0b0;font-style:italic"># Run CraftOS-PC in headless mode (no GUI) and with the data directory set to $DATA_DIR.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>craftos --directory <span style="color:#4070a0">&#34;</span><span style="color:#bb60d5">$DATA_DIR</span><span style="color:#4070a0">&#34;</span> --exec <span style="color:#4070a0">&#39;shell.run(&#34;test/mcfly.lua test&#34;); os.shutdown()&#39;</span></span></span></code></pre></div><p>Make sure to mark it executable with <code>chmod +x ./test/test.sh</code>.</p>
<p>You should see something like this in your terminal when running <code>test/test.sh</code>:</p>





<pre tabindex="0"><code>$ test/test.sh
Ran 1 test(s), of which 1 passed (100%).</code></pre><p>Progress! We now have McFly running our tests whenever we run our script.</p>
<h2 id="writing-our-tests">Writing our tests</h2>
<p>All that&rsquo;s left to do is write our tests.</p>
<p>I recommend incrementally writing tests for your code; if you try to write all of your tests all at once, <strong>you will burn out</strong> unless your library is very small.</p>
<p>Tests come in this general format:</p>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span>describe(<span style="color:#4070a0">&#34;identify_sound&#34;</span>, <span style="color:#007020;font-weight:bold">function</span>()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>   it(<span style="color:#4070a0">&#34;can identify meow&#34;</span>, <span style="color:#007020;font-weight:bold">function</span>()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>     <span style="color:#60a0b0;font-style:italic">-- Load your library.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>     <span style="color:#007020;font-weight:bold">local</span> my_library <span style="color:#666">=</span> require(<span style="color:#4070a0">&#34;my_library&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>     expect(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>       <span style="color:#60a0b0;font-style:italic">-- Call your function with its parameters.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>       my_library.identify_sound(<span style="color:#4070a0">&#34;meow&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>     <span style="color:#60a0b0;font-style:italic">-- This is what you expect the result to be.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>     <span style="color:#60a0b0;font-style:italic">-- McFly has many of these functions; see the documentation in its source code for more.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>     ):equals(<span style="color:#4070a0">&#34;cat&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>   <span style="color:#007020;font-weight:bold">end</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span><span style="color:#007020;font-weight:bold">end</span>)</span></span></code></pre></div><p>McFly expects tests to be named in the format <code>*_spec.lua</code>.</p>
<p>If you get an error about <code>require</code>, see the next section.</p>
<h2 id="a-tangent-packagepath-and-require-failing-to-find-your-library">A tangent: <code>package.path</code> and <code>require</code> failing to find your library</h2>
<p>Don&rsquo;t fret! If your tests fail to find your library, add this one-liner to the top of your test:</p>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>package.path <span style="color:#666">=</span> <span style="color:#4070a0">&#34;/?.lua;/?/init.lua;&#34;</span> <span style="color:#666">..</span> package.path</span></span></code></pre></div><p>This one-liner prepends the root (<code>/</code>) directory to <a href="https://www.lua.org/manual/5.1/manual.html#pdf-require"><code>package.path</code>, which serves as the search path for <code>require</code></a>.</p>
<h2 id="running-tests-in-github-actions">Running tests in GitHub Actions</h2>
<p>This became a little bit tricky, because GitHub Actions&rsquo; Ubuntu runner does not contain a <code>libncurses5</code> library.</p>
<p>I opted to <a href="https://github.com/unicornpkg/libunicornpkg/blob/cbc4beb8d2542beb016a145e44befa0360320797/.github/workflows/ci.yaml">use Nix when I was setting up testing for libunicornpkg</a>, but not everybody knows Nix so this isn&rsquo;t feasible for most people.</p>
<p>If you manage to get something non-Nix working on GitHub Actions, please let me know!</p>
<h2 id="conclusion">Conclusion</h2>
<p>Thanks for sticking with me through this abnormally large post!</p>
<p>If something doesn&rsquo;t work, I got something wrong, or I left something important out, please reach out.</p>
]]></content:encoded></item><item><title>Setting up a development environment with Neovim and ComputerCraft</title><link>https://tomodachi94.github.io/blog/computercraft-neovim/</link><pubDate>Tue, 04 Jul 2023 21:57:13 -0700</pubDate><guid>https://tomodachi94.github.io/blog/computercraft-neovim/</guid><description>&lt;p&gt;&lt;a href="https://tweaked.cc"&gt;ComputerCraft&lt;/a&gt; is a Minecraft mod that adds programmable computers to the game. These computers are programmed with &lt;a href="https://lua.org"&gt;Lua&lt;/a&gt;, a scripting language written in C.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://neovim.io"&gt;Neovim&lt;/a&gt; is a fork of the &lt;a href="https://www.vim.org"&gt;Vim&lt;/a&gt; text editor; it adds configuration with Lua and language server support, among other things, to the classic Vim editor.&lt;/p&gt;
&lt;p&gt;In this guide, I&amp;rsquo;ll be walking you through setting up a tolerable IDE-like environment for ComputerCraft in Neovim, similar to Visual Studio Code&amp;rsquo;s IntelliSense.&lt;/p&gt;</description><content:encoded><![CDATA[<p><a href="https://tweaked.cc">ComputerCraft</a> is a Minecraft mod that adds programmable computers to the game. These computers are programmed with <a href="https://lua.org">Lua</a>, a scripting language written in C.</p>
<p><a href="https://neovim.io">Neovim</a> is a fork of the <a href="https://www.vim.org">Vim</a> text editor; it adds configuration with Lua and language server support, among other things, to the classic Vim editor.</p>
<p>In this guide, I&rsquo;ll be walking you through setting up a tolerable IDE-like environment for ComputerCraft in Neovim, similar to Visual Studio Code&rsquo;s IntelliSense.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Basic Vim and Neovim skills.</li>
<li>Basic comprehension of Lua (needed for configuring Neovim).</li>
<li><code>nvim</code> and <code>git</code> installed.</li>
<li><code>nvim-cmp</code> setup and working. That is slightly out-of-scope for this guide; I recommend <a href="https://vonheikemen.github.io/devlog/tools/setup-nvim-lspconfig-plus-nvim-cmp/">Heiker Curiel&rsquo;s guide</a> for getting this working.</li>
<li>The following Neovim plugins, installed with your plugin manager of choice:
<ul>
<li><a href="https://github.com/neovim/nvim-lspconfig"><code>nvim-lspconfig</code></a>, for automatically setting up the Neovim LSP consumer for common LSP servers.</li>
<li><a href="https://github.com/williamboman/mason.nvim"><code>mason</code></a>, for installing and managing other bits of software, including LSP servers.</li>
<li><a href="https://github.com/williamboman/mason-lspconfig.nvim"><code>mason-lspconfig</code></a>, for gluing together <code>mason</code> and <code>nvim-lspconfig</code>.</li>
<li>&hellip;and whatever plugins you need for <code>nvim-cmp</code>.</li>
</ul>
</li>
</ul>
<h2 id="setting-up-lua-language-server-and-the-cc-tweaked-addon">Setting up <code>lua-language-server</code> and the <code>cc-tweaked</code> addon</h2>
<p>After you&rsquo;ve installed Mason, install the <code>lua-language-server</code> with Mason and ensures that <code>nvim-lspconfig</code> knows about it:</p>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vim" data-lang="vim"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>:MasonInstall lua-language-server</span></span></code></pre></div><p>Then, clone the <code>lua-language-server</code> plugins with Git:</p>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>$ git clone https://github.com/LuaLS/LLS-Addons ~/LLS-Addons --recurse-submodules --shallow-submodules --depth<span style="color:#666">=</span><span style="color:#40a070">1</span></span></span></code></pre></div><p>Afterwards, create a <code>.luarc.json</code> file in your project&rsquo;s root directory with the following contents:</p>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>    <span style="color:#062873;font-weight:bold">&#34;workspace.library&#34;</span>: [<span style="color:#4070a0">&#34;/home/me/LLS-Addons/addons/cc-tweaked&#34;</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>}</span></span></code></pre></div><p>(Don&rsquo;t forget to replace <code>me</code> with your username!)</p>
<p>Launch Neovim and try it out:</p>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>$ nvim some-cool-cc-project.lua</span></span></code></pre></div><p>Voila! Your faux IntelliSense should now be working!</p>
]]></content:encoded></item><item><title>Nix quickstart guide</title><link>https://tomodachi94.github.io/blog/nix-quickstart/</link><pubDate>Mon, 17 Apr 2023 00:00:00 +0000</pubDate><guid>https://tomodachi94.github.io/blog/nix-quickstart/</guid><description>&lt;p&gt;This guide helps you start quickly with using Nix as a package manager. This guide covers setting up, &lt;code&gt;nix-shell&lt;/code&gt;, &lt;code&gt;nix-env -iA&lt;/code&gt;, and Home Manager.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a quick way to get started with using Nix as a &lt;em&gt;package manager&lt;/em&gt; without diving into the complex internals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install Nix with &lt;code&gt;sh &amp;lt;(curl -L https://nixos.org/nix/install) --daemon&lt;/code&gt;. Make sure to add that snippet at the end to your shell configuration or you&amp;rsquo;ll have some trouble later.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;nix-channel --update&lt;/code&gt;. This is pretty much the same as &lt;code&gt;apt-get update&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;nix-shell -p cowsay&lt;/code&gt;. This downloads &lt;code&gt;cowsay&lt;/code&gt; into your &lt;em&gt;Nix Store&lt;/em&gt; (at &lt;code&gt;/nix/store&lt;/code&gt;) and then modifies your &lt;code&gt;$PATH&lt;/code&gt; and other variables to make it executable in your shell. Run &lt;code&gt;cowsay 'Hello Nix!'&lt;/code&gt; to test it out; it should behave the same.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;nix-env -iA pkgs.cowsay&lt;/code&gt; to add &lt;code&gt;cowsay&lt;/code&gt; into your path permanently. I don&amp;rsquo;t recommend this method if you use more than a few packages; see later bullet points about Home Manager.&lt;/li&gt;
&lt;li&gt;Side note, if you want to search all of the packages in Nixpkgs, you can use the wonderful interface at &lt;a href="https://search.nixos.org"&gt;https://search.nixos.org&lt;/a&gt;. Make sure to select to &lt;code&gt;unstable&lt;/code&gt; channel in the switcher below the search bar.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is pretty much all you need to use Nix, but there are much better ways to ensure packages are installed and automatically put on &lt;code&gt;$PATH&lt;/code&gt;. Out of the solutions, I still prefer &lt;a href="https://github.com/nix-community/home-manager"&gt;Home Manager&lt;/a&gt; (abbreviated to HM).&lt;/p&gt;</description><content:encoded><![CDATA[<p>This guide helps you start quickly with using Nix as a package manager. This guide covers setting up, <code>nix-shell</code>, <code>nix-env -iA</code>, and Home Manager.</p>
<p>Here&rsquo;s a quick way to get started with using Nix as a <em>package manager</em> without diving into the complex internals:</p>
<ul>
<li>Install Nix with <code>sh &lt;(curl -L https://nixos.org/nix/install) --daemon</code>. Make sure to add that snippet at the end to your shell configuration or you&rsquo;ll have some trouble later.</li>
<li>Run <code>nix-channel --update</code>. This is pretty much the same as <code>apt-get update</code>.</li>
<li>Run <code>nix-shell -p cowsay</code>. This downloads <code>cowsay</code> into your <em>Nix Store</em> (at <code>/nix/store</code>) and then modifies your <code>$PATH</code> and other variables to make it executable in your shell. Run <code>cowsay 'Hello Nix!'</code> to test it out; it should behave the same.</li>
<li>Run <code>nix-env -iA pkgs.cowsay</code> to add <code>cowsay</code> into your path permanently. I don&rsquo;t recommend this method if you use more than a few packages; see later bullet points about Home Manager.</li>
<li>Side note, if you want to search all of the packages in Nixpkgs, you can use the wonderful interface at <a href="https://search.nixos.org">https://search.nixos.org</a>. Make sure to select to <code>unstable</code> channel in the switcher below the search bar.</li>
</ul>
<p>This is pretty much all you need to use Nix, but there are much better ways to ensure packages are installed and automatically put on <code>$PATH</code>. Out of the solutions, I still prefer <a href="https://github.com/nix-community/home-manager">Home Manager</a> (abbreviated to HM).</p>
<h2 id="home-manager">Home Manager</h2>
<p>HM is a configuration management system that can also manipulate your <code>$PATH</code> and other things.</p>
<p>Here&rsquo;s a quick way to start using HM:</p>
<ul>
<li>Install HM with <code>nix-channel --add https://github.com/nix-community/home-manager/archive/master.tar.gz home-manager</code>, then update your channels with <code>nix-channel --update</code>. If you see something being &lsquo;built&rsquo;, that is perfectly normal. You&rsquo;ll also need to run <code>nix-shell '&lt;home-manager&gt;' -A install</code> to complete the installation.</li>
<li>Add <code>. $HOME/.nix-profile/etc/profile.d/hm-session-vars.sh</code> to your <code>.bashrc</code>/<code>.zshrc</code> to ensure binaries are added to the <code>$PATH</code>. Relaunch your shell afterwards.</li>
<li>You&rsquo;ll need to <code>mkdir ~/.config/home-manager</code>, then run <code>$EDITOR ~/.config/home-manager/home.nix</code>. Add this snippet to start:</li>
</ul>





<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span>{ environment<span style="color:#666">,</span> config<span style="color:#666">,</span> pkgs<span style="color:#666">,</span> lib<span style="color:#666">,</span> <span style="color:#666">...</span> }:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>  <span style="color:#60a0b0;font-style:italic"># Home-Manager needs to know who you are, which is why I use `me` as my username</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>  home<span style="color:#666">.</span>username <span style="color:#666">=</span> <span style="color:#4070a0">&#34;me&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>  home<span style="color:#666">.</span>homeDirectory <span style="color:#666">=</span> <span style="color:#4070a0">&#34;/home/me&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>  <span style="color:#60a0b0;font-style:italic"># Remove this if you are on Darwin or some non-Linux platform</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>  targets<span style="color:#666">.</span>genericLinux<span style="color:#666">.</span>enable <span style="color:#666">=</span> <span style="color:#60add5">true</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>  <span style="color:#60a0b0;font-style:italic"># Here&#39;s the fun part!</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>  home<span style="color:#666">.</span>packages <span style="color:#666">=</span> [
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span>    pkgs<span style="color:#666">.</span>git <span style="color:#60a0b0;font-style:italic"># Version control</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span>    pkgs<span style="color:#666">.</span>neovim <span style="color:#60a0b0;font-style:italic"># Text editor</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>    pkgs<span style="color:#666">.</span>exa <span style="color:#60a0b0;font-style:italic"># Better ls</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>    pkgs<span style="color:#666">.</span>fd <span style="color:#60a0b0;font-style:italic"># Better find</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>    pkgs<span style="color:#666">.</span>ripgrep <span style="color:#60a0b0;font-style:italic"># Better grep</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span>    pkgs<span style="color:#666">.</span>fzf <span style="color:#60a0b0;font-style:italic"># Better fuzzy finder</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>    pkgs<span style="color:#666">.</span>bat <span style="color:#60a0b0;font-style:italic"># Better cat</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>	pkgs<span style="color:#666">.</span>zathura <span style="color:#60a0b0;font-style:italic"># PDF reader</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span>    pkgs<span style="color:#666">.</span>starship <span style="color:#60a0b0;font-style:italic"># Shell prompt</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>    pkgs<span style="color:#666">.</span>atuin <span style="color:#60a0b0;font-style:italic"># Better shell history</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span>  ];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span>}</span></span></code></pre></div><ul>
<li>This is all you need to start. I recommend removing some of the packages that I have filled and replace them with some of your own tools that you use on a daily basis.</li>
<li>Update your HM configuration with <code>home-manager switch</code>. You&rsquo;ll notice some stuff being downloaded and eventually you will return to your shell.</li>
<li>Try out your new packages!</li>
<li>There is also a way to configure things with Home Manager; I will cover that in another guide since that is out of scope for this one.</li>
</ul>
<h2 id="further-reading">Further reading</h2>
<p>If Nix seems interesting and you want to learn the internals, I recommend the following resources:</p>
<ul>
<li><a href="https://zero-to-nix.com">Zero to Nix</a> is a great resource explaining a lot of Nix concepts. This is my go-to resource for most things Nix.</li>
<li><a href="https://nixos.org/manual/nixpkgs/stable/">The Nixpkgs manual</a>. I cannot recommend this enough, especially once you want to create your own packages.</li>
<li>The <a href="https://nix-community.github.io/home-manager/">Home Manager manual</a> for HM-related things.</li>
<li>Again, the <a href="https://search.nixos.org">Nixpkgs package search</a> for finding packages.</li>
</ul>
]]></content:encoded></item><item><title>How I Transcribe Handwritten Notes Into Obsidian</title><link>https://tomodachi94.github.io/blog/handwritten-notes/</link><pubDate>Mon, 17 Jan 2022 00:00:00 +0000</pubDate><guid>https://tomodachi94.github.io/blog/handwritten-notes/</guid><description>&lt;p&gt;&lt;a href="https://obsidian.md"&gt;Obsidian&lt;/a&gt; is a Markdown-based note taking tool focused on connections between notes. Today, I&amp;rsquo;ll show you how I transcribe my handwritten &lt;a href="https://en.wikipedia.org/wiki/Cornell_Notes"&gt;Cornell notes&lt;/a&gt; into a linkable web of thought.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Related: &lt;a href="https://www.psychologytoday.com/us/blog/creative-leadership/201902/why-you-should-take-notes-hand"&gt;Why You Should Take Notes By Hand&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="./cnotes_example.png" alt="The layout of notes taken using the Cornell Method."&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Image courtesy of Icez~enwikibooks at English Wikibooks, Public domain, via Wikimedia Commons&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I first begin by creating a scratch note, similar to a &lt;a href="https://publish.obsidian.md/hub/05+-+Concepts/Maps+of+Content+(MOC)"&gt;map of content&lt;/a&gt; (MOC). It&amp;rsquo;s temporary, but it can be evolved into a MOC if you want, or just deleted when done.&lt;/p&gt;</description><content:encoded><![CDATA[<p><a href="https://obsidian.md">Obsidian</a> is a Markdown-based note taking tool focused on connections between notes. Today, I&rsquo;ll show you how I transcribe my handwritten <a href="https://en.wikipedia.org/wiki/Cornell_Notes">Cornell notes</a> into a linkable web of thought.</p>
<p><em>Related: <a href="https://www.psychologytoday.com/us/blog/creative-leadership/201902/why-you-should-take-notes-hand">Why You Should Take Notes By Hand</a></em></p>
<p><img src="./cnotes_example.png" alt="The layout of notes taken using the Cornell Method."></p>
<p><em>Image courtesy of Icez~enwikibooks at English Wikibooks, Public domain, via Wikimedia Commons</em></p>
<p>I first begin by creating a scratch note, similar to a <a href="https://publish.obsidian.md/hub/05+-+Concepts/Maps+of+Content+(MOC)">map of content</a> (MOC). It&rsquo;s temporary, but it can be evolved into a MOC if you want, or just deleted when done.</p>
<p>I read down the recall column (the left column on the side of the Cornell notes), determining if each item is worthy of its own note, if it will be in another note, or left out entirely (which probably defeats the point of having it written in your original handwritten notes in the first place, but I won&rsquo;t judge).</p>
<p>If it does end up being worthy of its own note, add a link to a bulleted list in said scratch note to come back to later.</p>
<p>After you&rsquo;ve finished with that, click on the links and start transcribing your notes. Make sure to add links when you come across things you have notes on or might take notes on in the future.</p>
<p>Repeat this until you&rsquo;re done. After that, enjoy your new digitized notes!</p>
<p><em>Originally posted by me on <a href="https://tomodachi.writeas.com">my old Write.as blog</a>.</em></p>
]]></content:encoded></item></channel></rss>