<!doctype html><html lang=en-us><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Nix quickstart guide | Tomodachi94's Musings</title><meta name=title content="Nix quickstart guide"><meta name=description content="This guide helps you start quickly with using Nix as a package manager. This guide covers setting up, nix-shell, nix-env -iA, and Home Manager.
Here&rsquo;s a quick way to get started with using Nix as a package manager without diving into the complex internals:

Install Nix with sh <(curl -L https://nixos.org/nix/install) --daemon. Make sure to add that snippet at the end to your shell configuration or you&rsquo;ll have some trouble later.
Run nix-channel --update. This is pretty much the same as apt-get update.
Run nix-shell -p cowsay. This downloads cowsay into your Nix Store (at /nix/store) and then modifies your $PATH and other variables to make it executable in your shell. Run cowsay 'Hello Nix!' to test it out; it should behave the same.
Run nix-env -iA pkgs.cowsay to add cowsay into your path permanently. I don&rsquo;t recommend this method if you use more than a few packages; see later bullet points about Home Manager.
Side note, if you want to search all of the packages in Nixpkgs, you can use the wonderful interface at https://search.nixos.org. Make sure to select to unstable channel in the switcher below the search bar.

This is pretty much all you need to use Nix, but there are much better ways to ensure packages are installed and automatically put on $PATH. Out of the solutions, I still prefer Home Manager (abbreviated to HM)."><meta name=author content><meta name=keywords content="Nix,Home-Manager,Nixpkgs,"><meta property="og:url" content="https://tomodachi94.github.io/blog/nix-quickstart/"><meta property="og:site_name" content="Tomodachi94's Musings"><meta property="og:title" content="Nix quickstart guide"><meta property="og:description" content="This guide helps you start quickly with using Nix as a package manager. This guide covers setting up, nix-shell, nix-env -iA, and Home Manager.
Here’s a quick way to get started with using Nix as a package manager without diving into the complex internals:
Install Nix with sh <(curl -L https://nixos.org/nix/install) --daemon. Make sure to add that snippet at the end to your shell configuration or you’ll have some trouble later. Run nix-channel --update. This is pretty much the same as apt-get update. Run nix-shell -p cowsay. This downloads cowsay into your Nix Store (at /nix/store) and then modifies your $PATH and other variables to make it executable in your shell. Run cowsay 'Hello Nix!' to test it out; it should behave the same. Run nix-env -iA pkgs.cowsay to add cowsay into your path permanently. I don’t recommend this method if you use more than a few packages; see later bullet points about Home Manager. Side note, if you want to search all of the packages in Nixpkgs, you can use the wonderful interface at https://search.nixos.org. Make sure to select to unstable channel in the switcher below the search bar. This is pretty much all you need to use Nix, but there are much better ways to ensure packages are installed and automatically put on $PATH. Out of the solutions, I still prefer Home Manager (abbreviated to HM)."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-04-17T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-17T00:00:00+00:00"><meta property="article:tag" content="Nix"><meta property="article:tag" content="Home-Manager"><meta property="article:tag" content="Nixpkgs"><meta name=twitter:card content="summary"><meta name=twitter:title content="Nix quickstart guide"><meta name=twitter:description content="This guide helps you start quickly with using Nix as a package manager. This guide covers setting up, nix-shell, nix-env -iA, and Home Manager.
Here’s a quick way to get started with using Nix as a package manager without diving into the complex internals:
Install Nix with sh <(curl -L https://nixos.org/nix/install) --daemon. Make sure to add that snippet at the end to your shell configuration or you’ll have some trouble later. Run nix-channel --update. This is pretty much the same as apt-get update. Run nix-shell -p cowsay. This downloads cowsay into your Nix Store (at /nix/store) and then modifies your $PATH and other variables to make it executable in your shell. Run cowsay 'Hello Nix!' to test it out; it should behave the same. Run nix-env -iA pkgs.cowsay to add cowsay into your path permanently. I don’t recommend this method if you use more than a few packages; see later bullet points about Home Manager. Side note, if you want to search all of the packages in Nixpkgs, you can use the wonderful interface at https://search.nixos.org. Make sure to select to unstable channel in the switcher below the search bar. This is pretty much all you need to use Nix, but there are much better ways to ensure packages are installed and automatically put on $PATH. Out of the solutions, I still prefer Home Manager (abbreviated to HM)."><meta itemprop=name content="Nix quickstart guide"><meta itemprop=description content="This guide helps you start quickly with using Nix as a package manager. This guide covers setting up, nix-shell, nix-env -iA, and Home Manager.
Here’s a quick way to get started with using Nix as a package manager without diving into the complex internals:
Install Nix with sh <(curl -L https://nixos.org/nix/install) --daemon. Make sure to add that snippet at the end to your shell configuration or you’ll have some trouble later. Run nix-channel --update. This is pretty much the same as apt-get update. Run nix-shell -p cowsay. This downloads cowsay into your Nix Store (at /nix/store) and then modifies your $PATH and other variables to make it executable in your shell. Run cowsay 'Hello Nix!' to test it out; it should behave the same. Run nix-env -iA pkgs.cowsay to add cowsay into your path permanently. I don’t recommend this method if you use more than a few packages; see later bullet points about Home Manager. Side note, if you want to search all of the packages in Nixpkgs, you can use the wonderful interface at https://search.nixos.org. Make sure to select to unstable channel in the switcher below the search bar. This is pretty much all you need to use Nix, but there are much better ways to ensure packages are installed and automatically put on $PATH. Out of the solutions, I still prefer Home Manager (abbreviated to HM)."><meta itemprop=datePublished content="2023-04-17T00:00:00+00:00"><meta itemprop=dateModified content="2023-04-17T00:00:00+00:00"><meta itemprop=wordCount content="605"><meta itemprop=keywords content="Nix,Home-Manager,Nixpkgs"><meta name=referrer content="no-referrer-when-downgrade"><link href=/original.min.css rel=stylesheet><link href=/syntax.min.css rel=stylesheet><link rel=stylesheet href=/extras.css><a href=https://github.com/tomodachi94 rel=me><link rel=webmention href=https://webmention.io/tomodachi94.github.io/webmention><meta name=msvalidate.01 content="71EF19DC0F6663464BD8C4E5919D51C6"></head><body><header><a class=skip-link href=#main-content>Skip to main content</a>
<a href=/ class=title><h1>Tomodachi94's Musings</h1></a><nav><a href=/blog/>Posts</a>
<a href=/index.xml>RSS</a></nav></header><main id=main-content><h1>Nix quickstart guide</h1><p class=byline><time datetime=2023-04-17 pubdate>2023-04-17</time></p><content><p>This guide helps you start quickly with using Nix as a package manager. This guide covers setting up, <code>nix-shell</code>, <code>nix-env -iA</code>, and Home Manager.</p><p>Here&rsquo;s a quick way to get started with using Nix as a <em>package manager</em> without diving into the complex internals:</p><ul><li>Install Nix with <code>sh &lt;(curl -L https://nixos.org/nix/install) --daemon</code>. Make sure to add that snippet at the end to your shell configuration or you&rsquo;ll have some trouble later.</li><li>Run <code>nix-channel --update</code>. This is pretty much the same as <code>apt-get update</code>.</li><li>Run <code>nix-shell -p cowsay</code>. This downloads <code>cowsay</code> into your <em>Nix Store</em> (at <code>/nix/store</code>) and then modifies your <code>$PATH</code> and other variables to make it executable in your shell. Run <code>cowsay 'Hello Nix!'</code> to test it out; it should behave the same.</li><li>Run <code>nix-env -iA pkgs.cowsay</code> to add <code>cowsay</code> into your path permanently. I don&rsquo;t recommend this method if you use more than a few packages; see later bullet points about Home Manager.</li><li>Side note, if you want to search all of the packages in Nixpkgs, you can use the wonderful interface at <a href=https://search.nixos.org>https://search.nixos.org</a>. Make sure to select to <code>unstable</code> channel in the switcher below the search bar.</li></ul><p>This is pretty much all you need to use Nix, but there are much better ways to ensure packages are installed and automatically put on <code>$PATH</code>. Out of the solutions, I still prefer <a href=https://github.com/nix-community/home-manager>Home Manager</a> (abbreviated to HM).</p><h2 id=home-manager>Home Manager</h2><p>HM is a configuration management system that can also manipulate your <code>$PATH</code> and other things.</p><p>Here&rsquo;s a quick way to start using HM:</p><ul><li>Install HM with <code>nix-channel --add https://github.com/nix-community/home-manager/archive/master.tar.gz home-manager</code>, then update your channels with <code>nix-channel --update</code>. If you see something being &lsquo;built&rsquo;, that is perfectly normal. You&rsquo;ll also need to run <code>nix-shell '&lt;home-manager>' -A install</code> to complete the installation.</li><li>Add <code>. $HOME/.nix-profile/etc/profile.d/hm-session-vars.sh</code> to your <code>.bashrc</code>/<code>.zshrc</code> to ensure binaries are added to the <code>$PATH</code>. Relaunch your shell afterwards.</li><li>You&rsquo;ll need to <code>mkdir ~/.config/home-manager</code>, then run <code>$EDITOR ~/.config/home-manager/home.nix</code>. Add this snippet to start:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>  environment<span style=color:#666>,</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>  config<span style=color:#666>,</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>  pkgs<span style=color:#666>,</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>  lib<span style=color:#666>,</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>  <span style=color:#666>...</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>}:
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>  <span style=color:#60a0b0;font-style:italic># Home-Manager needs to know who you are, which is why I use `me` as my username</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>  home<span style=color:#666>.</span>username <span style=color:#666>=</span> <span style=color:#4070a0>&#34;me&#34;</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>  home<span style=color:#666>.</span>homeDirectory <span style=color:#666>=</span> <span style=color:#4070a0>&#34;/home/me&#34;</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>  <span style=color:#60a0b0;font-style:italic># Remove this if you are on Darwin or some non-Linux platform</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>  targets<span style=color:#666>.</span>genericLinux<span style=color:#666>.</span>enable <span style=color:#666>=</span> <span style=color:#60add5>true</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>  <span style=color:#60a0b0;font-style:italic># Here&#39;s the fun part!</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>  home<span style=color:#666>.</span>packages <span style=color:#666>=</span> [
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span>    pkgs<span style=color:#666>.</span>git <span style=color:#60a0b0;font-style:italic># Version control</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span>    pkgs<span style=color:#666>.</span>neovim <span style=color:#60a0b0;font-style:italic># Text editor</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>    pkgs<span style=color:#666>.</span>exa <span style=color:#60a0b0;font-style:italic># Better ls</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span>    pkgs<span style=color:#666>.</span>fd <span style=color:#60a0b0;font-style:italic># Better find</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span>    pkgs<span style=color:#666>.</span>ripgrep <span style=color:#60a0b0;font-style:italic># Better grep</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span>    pkgs<span style=color:#666>.</span>fzf <span style=color:#60a0b0;font-style:italic># Better fuzzy finder</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span>    pkgs<span style=color:#666>.</span>bat <span style=color:#60a0b0;font-style:italic># Better cat</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span>    pkgs<span style=color:#666>.</span>zathura <span style=color:#60a0b0;font-style:italic># PDF reader</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span><span>    pkgs<span style=color:#666>.</span>starship <span style=color:#60a0b0;font-style:italic># Shell prompt</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28</span><span>    pkgs<span style=color:#666>.</span>atuin <span style=color:#60a0b0;font-style:italic># Better shell history</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29</span><span>  ];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30</span><span>}</span></span></code></pre></div><ul><li>This is all you need to start. I recommend removing some of the packages that I have filled and replace them with some of your own tools that you use on a daily basis.</li><li>Update your HM configuration with <code>home-manager switch</code>. You&rsquo;ll notice some stuff being downloaded and eventually you will return to your shell.</li><li>Try out your new packages!</li><li>There is also a way to configure things with Home Manager; I will cover that in another guide since that is out of scope for this one.</li></ul><h2 id=further-reading>Further reading</h2><p>If Nix seems interesting and you want to learn the internals, I recommend the following resources:</p><ul><li><a href=https://zero-to-nix.com>Zero to Nix</a> is a great resource explaining a lot of Nix concepts. This is my go-to resource for most things Nix.</li><li><a href=https://nixos.org/manual/nixpkgs/stable/>The Nixpkgs manual</a>. I cannot recommend this enough, especially once you want to create your own packages.</li><li>The <a href=https://nix-community.github.io/home-manager/>Home Manager manual</a> for HM-related things.</li><li>Again, the <a href=https://search.nixos.org>Nixpkgs package search</a> for finding packages.</li></ul></content><p><a class=blog-tags href=/tags/nix/>#nix</a>
<a class=blog-tags href=/tags/home-manager/>#home-manager</a>
<a class=blog-tags href=/tags/nixpkgs/>#nixpkgs</a></p></main><footer><small><ul class=separated-list><li>Copyright © 2023-2026, Tomodachi94. All Rights Reserved unless explicitly stated.</li><li></li><li><a href=https://github.com/tomodachi94/tomodachi94.github.io>Source</a></li></ul></small></footer><i></i>
<script data-goatcounter=https://tomodachi94.goatcounter.com/count async src=https://gc.zgo.at/count.js></script><div class=article-content><h2>Comments</h2><p>You can use your Mastodon account to reply to this <a class=link href=https://floss.social/@tomodachi94/110573535034609447>post</a>.</p><p><button id=replyButton href=https://floss.social/@tomodachi94/110573535034609447>Reply</button></p><p id=mastodon-comments-list><button id=load-comment>Load comments</button></p><dialog id=toot-reply class=mastodon data-component=dialog><h3>Reply to tomodachi94's post</h3><p>With an account on the Fediverse or Mastodon, you can respond to this post.
Since Mastodon is decentralized, you can use your existing account hosted by another Mastodon server or compatible platform if you don't have an account on this one.</p><p>Copy and paste this URL into the search field of your favourite Fediverse app or the web interface of your Mastodon server.</p><div class=copypaste><input type=text readonly value=https://floss.social/@tomodachi94/110573535034609447>
<button class=button id=copyButton>Copy</button>
<button class=button id=cancelButton>Close</button></div></dialog><p id=mastodon-comments-list><button id=load-comment>Load comments</button></p><noscript><p>You need JavaScript to view the comments.</p></noscript><script src=/assets/js/purify.min.js></script><script type=text/javascript>const dialog=document.querySelector("dialog");document.getElementById("replyButton").addEventListener("click",()=>{dialog.showModal()}),document.getElementById("copyButton").addEventListener("click",()=>{navigator.clipboard.writeText("https://floss.social/@tomodachi94/110573535034609447")}),document.getElementById("cancelButton").addEventListener("click",()=>{dialog.close()}),dialog.addEventListener("keydown",e=>{e.key==="Escape"&&dialog.close()});const dateOptions={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}document.getElementById("load-comment").addEventListener("click",function(){document.getElementById("load-comment").innerHTML="Loading",fetch("https://floss.social/api/v1/statuses/110573535034609447/context").then(function(e){return e.json()}).then(function(e){e.descendants&&Array.isArray(e.descendants)&&e.descendants.length>0?(document.getElementById("mastodon-comments-list").innerHTML="",e.descendants.forEach(function(e){e.account.display_name=escapeHtml(e.account.display_name),e.account.reply_class=e.in_reply_to_id=="110573535034609447"?"reply-original":"reply-child",e.created_date=new Date(e.created_at),e.account.emojis.forEach(t=>{e.account.display_name=e.account.display_name.replace(`:${t.shortcode}:`,`<img src="${escapeHtml(t.static_url)}" alt="Emoji ${t.shortcode}" height="20" width="20" />`)}),mastodonComment=`
<div class="mastodon-wrapper">
  <div class="comment-level ${e.account.reply_class}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
    <path fill="currentColor" stroke="currentColor" d="m 307,477.17986 c -11.5,-5.1 -19,-16.6 -19,-29.2 v -64 H 176 C 78.8,383.97986 -4.6936293e-8,305.17986 -4.6936293e-8,207.97986 -4.6936293e-8,94.679854 81.5,44.079854 100.2,33.879854 c 2.5,-1.4 5.3,-1.9 8.1,-1.9 10.9,0 19.7,8.9 19.7,19.7 0,7.5 -4.3,14.4 -9.8,19.5 -9.4,8.8 -22.2,26.4 -22.2,56.700006 0,53 43,96 96,96 h 96 v -64 c 0,-12.6 7.4,-24.1 19,-29.2 11.6,-5.1 25,-3 34.4,5.4 l 160,144 c 6.7,6.2 10.6,14.8 10.6,23.9 0,9.1 -3.9,17.7 -10.6,23.8 l -160,144 c -9.4,8.5 -22.9,10.6 -34.4,5.4 z" />
  </svg></div>
  <div class="mastodon-comment">
    <div class="comment">
      <div class="comment-avatar"><img src="${escapeHtml(e.account.avatar_static)}" alt=""></div>
      <div class="comment-author">
        <div class="comment-author-name"><a href="${e.account.url}" rel="nofollow">${e.account.display_name}</a></div>
        <div class="comment-author-reply"><a href="${e.account.url}" rel="nofollow">${escapeHtml(e.account.acct)}</a></div>
      </div>
      <div class="comment-author-date">${e.created_date.toLocaleString(navigator.language,dateOptions)}</div>
    </div>
    <div class="comment-content">${e.content}</div> 
  </div>
</div>
`,document.getElementById("mastodon-comments-list").appendChild(DOMPurify.sanitize(mastodonComment,{RETURN_DOM_FRAGMENT:!0}))})):document.getElementById("mastodon-comments-list").innerHTML="<p>No comments found</p>"})})</script></div></body></html>